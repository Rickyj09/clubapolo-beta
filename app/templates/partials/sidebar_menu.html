<div class="text-center mb-4 sidebar-brand">
    <img src="{{ url_for('static', filename='img/logo_apolo.jpg') }}"
         alt="Apolo Gym"
         class="sidebar-logo">
    <div class="mt-2 fw-bold text-white">Apolo Gym</div>
</div>

<ul class="nav nav-pills flex-column gap-1">

    <!-- Dashboard (ADMIN y PROFESOR) -->
    <li class="nav-item">
        <a href="{{ url_for('admin.dashboard') }}"
           class="nav-link text-white">
            <i class="bi bi-speedometer2 me-2"></i> Dashboard
        </a>
    </li>

    <li>
        <a href="{{ url_for('torneos.index') }}"
            class="nav-link text-white">
                <i class="bi bi-trophy"></i> Torneos
        </a>
    </li>

    <li>
        <a href="{{ url_for('ranking.index') }}"
        class="nav-link text-white">
          <i class="bi bi-trophy"></i> Ranking
        </a>
    </li>


    <!-- ===== SOLO ADMIN ===== -->
    {% if current_user.has_role("ADMIN") %}

        <li class="nav-item">
            <a href="{{ url_for('admin.usuarios') }}"
               class="nav-link text-white">
                <i class="bi bi-people me-2"></i> Usuarios
            </a>
        </li>

        <li class="nav-item">
            <a href="{{ url_for('admin.roles') }}"
               class="nav-link text-white">
                <i class="bi bi-shield-lock me-2"></i> Roles
            </a>
        </li>

        <li class="nav-item">
            <a href="{{ url_for('sucursales.index') }}"
               class="nav-link text-white">
                <i class="bi bi-building me-2"></i> Sucursales
            </a>
        </li>

    {% endif %}

    <!-- ===== ADMIN + PROFESOR ===== -->
    {% if current_user.has_role("ADMIN") or current_user.has_role("PROFESOR") %}

        <li class="nav-item">
            <a href="{{ url_for('alumnos.index') }}"
               class="nav-link text-white">
                <i class="bi bi-mortarboard me-2"></i> Alumnos
            </a>
        </li>

         <!-- ✅ REPORTES -->
        {% if current_user.has_role("ADMIN") or current_user.has_role("PROFESOR") %}
  <li class="nav-item">
    <a class="nav-link text-white" data-bs-toggle="collapse" href="#menuReportes" role="button">
      <i class="bi bi-bar-chart me-2"></i> Reportes
      <i class="bi bi-chevron-down float-end"></i>
    </a>
    <div class="collapse" id="menuReportes">
      <ul class="nav flex-column ms-3 mt-1">
        <li class="nav-item">
          <a class="nav-link text-white-50" href="{{ url_for('reportes.index') }}">
            <i class="bi bi-table me-2"></i> General
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white-50" href="{{ url_for('reportes.combate') }}">
            <i class="bi bi-lightning-charge me-2"></i> Combate (Edad/Peso)
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white-50" href="{{ url_for('reportes.poomsae') }}">
            <i class="bi bi-person-arms-up me-2"></i> Poomsae (Grado/Edad)
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{{ url_for('reportes.morosidad') }}">
            <i class="bi bi-cash-coin"></i> Morosidad
          </a>
        </li>

        <li class="nav-item">
  <a class="nav-link" href="{{ url_for('reportes.seleccion_torneo') }}">
  Selección de Competidores
</a>
</li>

      </ul>
    </div>
  </li>
{% endif %}

    {% endif %}

</ul>

<hr class="text-secondary">

<div class="text-white small">
    {{ current_user.username }}
</div>

<a href="{{ url_for('auth.logout') }}"
   class="btn btn-outline-light btn-sm mt-2 w-100">
    Cerrar sesión
</a>
